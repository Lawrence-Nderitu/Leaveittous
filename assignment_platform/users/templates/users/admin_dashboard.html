{% extends "landing_page/base.html" %}
{% load static %} {# Ensure static is loaded if you use static assets here #}

{% block title %}{{ page_title|default:"Admin Dashboard" }}{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <div class="flex flex-wrap justify-between items-center mb-8 pb-4 border-b border-gray-300">
        <h1 class="text-3xl font-bold text-gray-800">{{ page_title|default:"Admin Dashboard" }}</h1>
        <a href="{% url 'admin:index' %}" class="bg-gray-700 hover:bg-gray-800 text-white font-semibold py-2 px-4 rounded-lg inline-flex items-center shadow hover:shadow-md transition-colors" target="_blank">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 mr-2"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75" /></svg>
            Django Admin
        </a>
    </div>

    <!-- Stats Section -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-10">
        <!-- User Stats Card -->
        <div class="bg-white p-6 rounded-xl shadow-lg border border-gray-200">
            <h2 class="text-xl font-semibold text-gray-700 mb-4 border-b pb-2">User Statistics</h2>
            <div class="space-y-3 text-gray-600">
                <p class="flex justify-between"><strong>Total Users:</strong> <span class="text-blue-600 font-bold text-lg">{{ total_users }}</span></p>
                <p class="flex justify-between"><strong>Students:</strong> <span class="font-medium">{{ student_count }}</span></p>
                <p class="flex justify-between"><strong>Writers:</strong> <span class="font-medium">{{ writer_count }}</span></p>
                <p class="flex justify-between"><strong>Admins/Staff:</strong> <span class="font-medium">{{ admin_user_count }}</span></p>
            </div>
        </div>
        <!-- Assignment Stats Card -->
        <div class="bg-white p-6 rounded-xl shadow-lg border border-gray-200">
            <h2 class="text-xl font-semibold text-gray-700 mb-4 border-b pb-2">Assignment Statistics</h2>
            <div class="space-y-3 text-gray-600">
                <p class="flex justify-between"><strong>Total Assignments:</strong> <span class="text-blue-600 font-bold text-lg">{{ total_assignments }}</span></p>
                <p class="flex justify-between"><strong>Open:</strong> <span class="font-medium text-indigo-600">{{ open_assignments }}</span></p>
                <p class="flex justify-between"><strong>Assigned:</strong> <span class="font-medium text-yellow-600">{{ assigned_assignments }}</span></p>
                <p class="flex justify-between"><strong>Submitted:</strong> <span class="font-medium text-sky-600">{{ submitted_assignments }}</span></p>
                <p class="flex justify-between"><strong>Completed:</strong> <span class="font-medium text-green-600">{{ completed_assignments }}</span></p>
                <p class="flex justify-between"><strong>Cancelled:</strong> <span class="font-medium text-red-600">{{ cancelled_assignments }}</span></p>
            </div>
        </div>
        <!-- Quick Links/Actions Card -->
        <div class="bg-white p-6 rounded-xl shadow-lg border border-gray-200">
            <h2 class="text-xl font-semibold text-gray-700 mb-4 border-b pb-2">Quick Management</h2>
            <div class="space-y-3">
                 <a href="{% url 'users:admin_list_users' %}" class="block bg-emerald-500 hover:bg-emerald-600 text-white font-semibold py-3 px-5 rounded-lg shadow hover:shadow-md transition duration-150 ease-in-out text-center">
                    Manage Users
                </a>
                <a href="{% url 'assignments:admin_list_assignments' %}" class="block bg-sky-500 hover:bg-sky-600 text-white font-semibold py-3 px-5 rounded-lg shadow hover:shadow-md transition duration-150 ease-in-out text-center">
                    Manage Assignments
                </a>
                <a href="#" class="block bg-purple-500 hover:bg-purple-600 text-white font-semibold py-3 px-5 rounded-lg shadow hover:shadow-md transition duration-150 ease-in-out text-center">
                    Platform Settings (Placeholder)
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
